% AUTHOR: Nicklas Vraa
% A collection of packages, commands, and settings for including
% tables in a document.

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{tabs}

\RequirePackage{caption, tabularray, xparse}

\NewDocumentCommand{\tabs}{mmmm}{
    \begin{table}[h!]
        \centering
        \ifnum\pdfstrcmp{#2}{cols}=0
            \sbox0{%
                \begin{tblr}{%
                    hline{1,2,Z} = {0.1pt,solid},
                    rowsep = {1pt}, hspan = even}%
                    #4
                \end{tblr}%
            }
        \else\ifnum\pdfstrcmp{#2}{rows}=0
            \sbox0{%
                \begin{tblr}{%
                    hline{1,Z} = {0.1pt,solid},
                    vline{2} = {0.1pt,solid},
                    rowsep = {1pt}, hspan = even}%
                    #4
                \end{tblr}%
            }
        \else\ifnum\pdfstrcmp{#2}{grid}=0
            \sbox0{%
                \begin{tblr}{%
                    hline{1,2,Z} = {0.1pt,solid},
                    vline{2} = {0.1pt,solid},
                    rowsep = {1pt}, hspan = even}%
                    #4
                \end{tblr}%
            }
        \else
            \sbox0{%
                \begin{tblr}{#2}%
                    #4
                \end{tblr}%
            }
        \fi\fi\fi
        \begin{minipage}{\wd0}
            \usebox0\caption{#3}\label{#1}
        \end{minipage}
    \end{table}
}
